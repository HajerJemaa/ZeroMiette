<div class="row justify-content-center">
    <div class="col-auto">
        @if (user!=undefined) {
            <div class="row mt-4">
                <div class="col-auto">
                    <h2>Name: </h2>
                </div>
                <div class="col mt-2">
                    <span>{{user.first_name}} {{user.last_name}}</span>
                </div>
            </div>
            <div class="row">
                <div class="col-auto">
                    <h2>User name: </h2>
                </div>
                <div class="col mt-2">
                    <span>{{user.user_name}}</span>
                </div>
            </div>
            <div class="row">
                <div class="col-auto">
                    <h2>Description: </h2>
                </div>
                <div class="col mt-2">
                    <p>{{user.description}}</p>
                </div>
            </div>
            <div class="row">
                <div class="col-auto">
                    <h2>Email: </h2>
                </div>
                <div class="col mt-2">
                    <span>{{user.email}}</span>
                </div>
            </div>
            <div class="row">
                <div class="col-auto">
                    <h2>Region: </h2>
                </div>
                <div class="col mt-2">
                    <span>{{user.region}}</span>
                </div>
            </div>
            <div class="row">
                <div class="col-auto">
                    <h2>Address: </h2>
                </div>
                <div class="col mt-2">
                    <span>{{user.address}}</span>
                </div>
            </div>
            <div class="row">
                <div class="col-auto">
                    <h2>Number: </h2>
                </div>
                <div class="col mt-2">
                    <span>{{user.number}}</span>
                </div>
            </div>
            <div class="row">
                <div class="col-auto">
                    <h2>Role: </h2>
                </div>
                <div class="col mt-2">
                    <span>{{user.role}}</span>
                </div>
            </div> 
            @if (user.proof!=null){
                <div class="row">
                    <div class="col-auto">
                            <h2>Proof: </h2>   
                    </div>
                    <div class="col mt-2">
                        <a [href]="['http://localhost/backend/download.php?file=',user.proof]">Download Proof</a>
                    </div>
                </div>
                @if(user.extention!="pdf"){
                    <div class="row">
                        <div class="col">
                            <img [src]="fileUrl" alt=""/>
                        </div>
                    </div>
                }@else{
                    <div class="row">
                        <div class="col">
                            <iframe [src]="getFileUrl('view')" width="100%" height="600px" type="application/pdf"></iframe>
                        </div>
                    </div>
                }  
            }@if (user.state=="pending") {
                <div class="row mt-2 justify-content-center">
                    <div class="col-auto">
                        <button class="btn btn-success" (click)="acceptUser(user.userId!)">Accepter</button>
                    </div>
                    <div class="col-auto">
                        <button class="btn btn-danger" (click)="deleteUser(user.userId!)">Refuser</button>
                    </div>
                    <div class="col-auto">
                        <button class="btn btn-secondary" (click)="redir()">Annuler</button>
                    </div>
                </div>
            }@else {
                <div class="row mt-2 justify-content-center">
                    <div class="col-auto">
                        <button class="btn btn-danger" (click)="deleteUser(user.userId!)">Delete</button>
                    </div>
                    <div class="col-auto">
                        <button class="btn btn-secondary" (click)="redir()">Annuler</button>
                    </div>
                </div>
            }
        }
    </div>
</div>