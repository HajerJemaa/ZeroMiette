<div class="container mt-4 text-center">
  <div class="row mb-3">
    <div class="col">
      <button class="btn btn-primary" (click)="getAnnByState('available')">les annonces</button>
    </div>
    <div class="col">
      <button class="btn btn-primary" routerLink="/get-user-requests-by-state">Mes demandes</button>
    </div>
  </div>

  @if (errorMessage) {
    <div class="alert alert-warning text-center">{{ errorMessage }}</div>
  }
  @else if (announcement.length > 0) {
    <div class="row">
      @for (ann of announcement; track ann.annCode) {
        <div class="col-md-6 mb-4">
          <div class="card shadow-sm border-start border-4 border-info">
            <div class="card-body">
              <div class="row">
                <div class="col-9">
                  <h5 class="card-title text-info fw-bold">{{ usernames[ann.donId] || 'Chargement...' }}</h5>
                </div>
                <div class="col-3">
                  <strong>Delai :</strong> 
                  <span class="btn-danger">{{ ann.deadline }}</span>
                </div>
              </div>

              <p class="card-text">
                <strong>Description :</strong> {{ ann.content }}
              </p>
              <p class="card-text">
                <strong>DateC :</strong> 
                <span class="badge bg-secondary">{{ ann.dateC }}</span>
              </p>

              <button class="btn btn-outline-info" >Envoyer demande</button>

            </div>  
          </div>
        </div>
      }
    </div>
  }
  
</div>

<router-outlet></router-outlet>
